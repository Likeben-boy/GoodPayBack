# ==========================================
# GoodPayBack 外卖点餐系统环境变量配置模板
# ==========================================
# 请复制此文件为 .env 并根据实际情况修改配置
# 注意：生产环境中请使用强密码并保护好敏感信息

# ==========================================
# 🚀 应用基础配置
# ==========================================
PORT=3000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# ==========================================
# 🗄️ 数据库配置 (使用 Prisma ORM)
# ==========================================
# 主要数据库连接字符串
DATABASE_URL="mysql://username:password@localhost:3306/goodpayback"

# Prisma Shadow 数据库连接字符串（用于迁移）
SHADOW_DATABASE_URL="mysql://username:password@localhost:3306/goodpayback_shadow"

# ==========================================
# 🔐 JWT 认证配置
# ==========================================
# JWT 访问令牌密钥（请使用强随机字符串）
JWT_SECRET=your-super-secret-jwt-access-key-change-this-in-production

# JWT 刷新令牌密钥（请使用不同于访问令牌的密钥）
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-key-change-this-in-production

# JWT 访问令牌过期时间
JWT_EXPIRES_IN=15m

# JWT 刷新令牌过期时间
JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# 📁 文件上传配置
# ==========================================
UPLOAD_PATH=uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif

# ==========================================
# 💳 支付配置
# ==========================================
# 微信支付配置
WECHAT_APP_ID=your_wechat_app_id
WECHAT_MCH_ID=your_wechat_mch_id
WECHAT_API_KEY=your_wechat_api_key

# 支付宝配置
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY=your_alipay_private_key
ALIPAY_PUBLIC_KEY=your_alipay_public_key

# ==========================================
# 📧 通知服务配置
# ==========================================
# SMTP 邮件服务配置
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASS=your_email_password

# 短信服务配置
SMS_ACCESS_KEY=your_sms_access_key
SMS_ACCESS_SECRET=your_sms_access_secret
SMS_SIGN_NAME=your_sms_sign_name

# ==========================================
# 📝 日志配置
# ==========================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
ERROR_LOG_FILE=logs/error.log

# ==========================================
# 🛡️ 安全与限流配置
# ==========================================
# 限流时间窗口（毫秒）
RATE_LIMIT_WINDOW_MS=900000

# 限流请求次数
RATE_LIMIT_MAX_REQUESTS=100

# 密码加密轮数
BCRYPT_SALT_ROUNDS=12

# ==========================================
# 📋 部署环境说明
# ==========================================
# 开发环境: NODE_ENV=development
# 测试环境: NODE_ENV=test
# 生产环境: NODE_ENV=production

# ==========================================
# 🔧 配置检查清单
# ==========================================
# [ ] 数据库连接字符串是否正确
# [ ] JWT 密钥是否为强随机字符串
# [ ] 支付配置是否已填写
# [ ] 邮件/短信服务是否已配置
# [ ] 前端地址是否正确
# [ ] 生产环境是否使用 HTTPS